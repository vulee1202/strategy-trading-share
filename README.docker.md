# Docker Setup for Project

This guide will walk you through setting up and running the project using Docker Compose. The services included are RabbitMQ, Nginx, a React-based GUI, and a Node.js backend.

## Prerequisites

-   Docker
-   Docker Compose

Ensure Docker and Docker Compose are installed on your machine. You can install them by following the instructions from the [Docker website](https://docs.docker.com/get-docker/).

## Services Overview

1. **RabbitMQ**: A message broker with the management plugin enabled.
2. **Nginx**: Used to serve the static files generated by the React GUI.
3. **Server (Node.js backend)**: The API layer that connects to RabbitMQ and other services.
4. **React GUI**: A web interface built with React, served by Nginx.

## Docker Compose Configuration

The `docker-compose.yml` defines the following services:

### RabbitMQ

-   **Image**: `rabbitmq:management`
-   **Ports**:
    -   `5672:5672`: RabbitMQ's default message broker port.
    -   `15672:15672`: Management UI port.
-   **Environment Variables**:
    -   `RABBITMQ_DEFAULT_USER`: `guest`
    -   `RABBITMQ_DEFAULT_PASS`: `guest`

### Nginx

-   **Image**: `nginx`
-   **Volumes**:
    -   `./gui/build:/usr/share/nginx/html`: Serves static files from the `gui/build` directory.
-   **Ports**:
    -   `9393:80`: Maps Nginxâ€™s port 80 to port 9393 on the host.

### Server-1 (Node.js Backend)

-   **Build**:
    -   **Context**: `./backend`
-   **Environment Variables**:
    -   `NODE_ENV`: `staging`
    -   `RABBITMQ_URL`: `amqp://guest:guest@rabbitmq:5672`
-   **Volumes**:
    -   `./src:/usr/src/app/src`: Mounts the source code directory.
-   **Depends On**: RabbitMQ service.
-   **Ports**:
    -   `3333:3333`: Exposes the backend API on port 3333.

### React GUI

-   **Build**:
    -   **Context**: `./gui`
-   **Volumes**:
    -   `./gui:/app`: Mounts the entire project into the container.
    -   `/app/node_modules`: Ignores `node_modules` to avoid conflicts.
-   **Ports**:
    -   `8080:80`: Maps port 80 in the container to port 8080 on the host.

## Networks

The services are connected through an `app_network`:

```yaml
networks:
    app_network:
        driver: bridge
```
